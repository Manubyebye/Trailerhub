<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">üé¨ TrailerHub</div>
            <div class="nav-links">
                <a href="/">Home</a>
                <a href="/anime">Anime</a>
                <a href="/weird">Weird & Freak</a>
                <a href="/weed">Weed & Smoke</a>
            </div>
            <div class="search-container">
                <form action="/search" method="GET" class="search-form">
                    <input type="text" name="q" placeholder="Search movies..." value="<%= searchQuery || '' %>" class="search-input">
                    <button type="submit" class="search-button">üîç</button>
                </form>
            </div>
        </div>
    </nav>

  <section class="hero home-hero">
    <div class="hero-gif-background"></div>
    <div class="hero-content">
        <div class="floating-elements">
            <div class="floating popcorn">üçø</div>
            <div class="floating film">üéûÔ∏è</div>
            <div class="floating clapper">üé¨</div>
        </div>
        <h1 class="hero-title">Discover Amazing Movie Trailers</h1>
        <p class="hero-subtitle">Watch the latest trailers from upcoming and popular movies</p>
        <div class="hero-badges">
            <span class="hero-badge">üé≠ Drama</span>
            <span class="hero-badge">ü§£ Comedy</span>
            <span class="hero-badge">üöÄ Action</span>
            <span class="hero-badge">‚ù§Ô∏è Romance</span>
        </div>
    </div>
</section>

    <!-- Search Results Section -->
    <% if (searchQuery && searchQuery !== '') { %>
        <section class="search-results-section">
            <div class="container">
                <h2>Search Results for "<%= searchQuery %>"</h2>
                <p class="results-count"><%= searchResults ? searchResults.length : 0 %> movies found</p>
                
                <% if (searchResults && searchResults.length > 0) { %>
                    <div class="movies-grid">
                        <% searchResults.forEach(movie => { %>
                            <div class="movie-card" onclick="location.href='/movie/<%= movie.id %>'">
                                <img src="https://image.tmdb.org/t/p/w500<%= movie.poster_path %>" alt="<%= movie.title %>" onerror="this.style.display='none'">
                                <div class="movie-info">
                                    <h3><%= movie.title %></h3>
                                    <p>
                                        <%= movie.release_date ? new Date(movie.release_date).getFullYear() : 'TBA' %> 
                                        ‚Ä¢ ‚≠ê <%= movie.vote_average ? movie.vote_average.toFixed(1) : 'N/A' %>
                                    </p>
                                </div>
                            </div>
                        <% }); %>
                    </div>
                <% } else { %>
                    <div class="no-results">
                        <h3>No movies found</h3>
                        <p>Try searching for something else or <a href="/">browse popular movies</a></p>
                    </div>
                <% } %>
            </div>
        </section>
    <% } else { %>
        <!-- Popular Movies Section -->
        <section class="movies-section">
            <div class="container">
                <h2>Latest Movies</h2>
                
                <% if (movies && movies.length > 0) { %>
                    <div class="movies-grid">
                        <% movies.forEach(movie => { %>
                            <div class="movie-card" onclick="location.href='/movie/<%= movie.id %>'">
                                <img src="https://image.tmdb.org/t/p/w500<%= movie.poster_path %>" alt="<%= movie.title %>" onerror="this.style.display='none'">
                                <div class="movie-info">
                                    <h3><%= movie.title %></h3>
                                    <p>
                                        <%= movie.release_date ? new Date(movie.release_date).getFullYear() : 'TBA' %> 
                                        ‚Ä¢ ‚≠ê <%= movie.vote_average ? movie.vote_average.toFixed(1) : 'N/A' %>
                                    </p>
                                </div>
                            </div>
                        <% }); %>
                    </div>
                <% } else { %>
                    <div class="no-results">
                        <h3>No movies available</h3>
                        <p>Check your TMDB API key in the .env file</p>
                    </div>
                <% } %>
            </div>
        </section>
    <% } %>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>üé¨ TrailerHub</h3>
                    <p>Your ultimate destination for movie trailers and entertainment discovery.</p>
                </div>
                
                <div class="footer-section">
                    <h4>Explore</h4>
                    <div class="footer-links">
                        <a href="/">Home</a>
                        <a href="/anime">Anime</a>
                        <a href="/weird">Weird & Freak</a>
                        <a href="/weed">Weed & Smoke</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Connect With Me</h4>
                    <div class="social-links">
                        <a href="https://github.com/Manubyebye" target="_blank" class="social-link github">
                            <span>üíª GitHub</span>
                        </a>
                        <a href="https://www.linkedin.com/in/manuel-javier-jordan-penagos-949450159/" target="_blank" class="social-link linkedin">
                            <span>üíº LinkedIn</span>
                        </a>
                        <a href="https://www.instagram.com/manubyebye1985/" target="_blank" class="social-link instagram">
                            <span>üì∑ Instagram</span>
                        </a>
                        <a href="https://manueljordan.com/" target="_blank" class="social-link portfolio">
                            <span>üåê Portfolio</span>
                        </a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Contact</h4>
                    <div class="contact-info">
                        <p>üìß manueljp1985@gmail.com</p>
                        <p>üìç Praha 4 Czech Republic</p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="copyright">
                    <p>&copy; 2024 TrailerHub. All rights reserved.</p>
                    <p>Created with ‚ù§Ô∏è by <strong>Manuel Jordan</strong></p>
                </div>
                <div class="footer-badges">
                    <span class="tech-badge">Node.js</span>
                    <span class="tech-badge">Express</span>
                    <span class="tech-badge">TMDB API</span>
                    <span class="tech-badge">JavaScript</span>
                </div>
            </div>
        </div>
    </footer>

    <script src="/js/script.js"></script>
</body>
</html>